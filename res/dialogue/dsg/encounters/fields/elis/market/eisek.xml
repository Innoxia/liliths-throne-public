<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<dialogueNodes>

	<!-- Note: I use the words 'dialogue node' and 'scene' interchangeably in these comments, as the game's 'dialogue nodes' are simply different scenes which are presented to the player. -->
	
	<!-- Each one of these xml files can contain any number of dialogue nodes, each one of which is encompassed by 'node' element tags. -->
	<scene id ="eisek_encounter_initial">
		
		<!-- What name you'd like to use to claim credit for creating this scene.
		If omitted or left blank, then your mod's folder name will be used instead. -->
		<author><![CDATA[Innoxia]]></author>
		
		<!-- The title of this scene, which will be displayed as the title at the the top-centre of the UI.
		This can be omitted entirely, and is done so in most of the game's scenes, as when omitted the game instead uses the name of the tile which the player is current in as the title. -->
		<title><![CDATA[A gathered mob]]></title>
		
		<!-- A scene's tooltip is almost always defined within a response to the scene which precedes it, and as such this field is almost never used or seen by the player.
		The only time where this is actually used is when a scene immediately follows on from a sex scene, in which case this is seen as the tooltip to the action which ends sex.
		As such, don't worry about filling this out (you can even omit it entirely). -->
		<tooltip/>
		
		<!-- This is a conditional statement which is executed before the scene's dialogue is parsed.
		This allows you to make any gameplay changes before the scene is presented to the player (which can be very useful for making sure that transformed characters get parsed correctly).
		You may sometimes find yourself wishing to apply gameplay changes, then parsing some text, making more changes, then parsing that text.
			e.g. Move a masculine character into a new tile, parse their dialogue, transform their femininity, parse their dialogue - which would now be pink after the transformation.
			If you require that behaviour, then leave the 'content' element below blank (so that no text is parsed by default), and using the game.appendToTextStartStringBuilder() and game.appendToTextEndStringBuilder() methods within this 'preParsingEffects' element.
			If you want to use the above methods with text that's parsed from an xml file, use:
				game.parseFromFile(String pathName, String tag, GameCharacter... specialNPCs)
				e.g.: [#game.parseFromFile('txt/encounters/fields/elis/woods', 'FIND_BERRIES')]
				And in the appendToTextStartStringBuilder method: [#game.appendToTextStartStringBuilder(game.parseFromFile('txt/encounters/fields/elis/woods', 'FIND_BERRIES'))]
		The conditional statements which you put into this element will only ever be parsed once, immediately before the scene is displayed to the player.
		If you require effects to be parsed after the scene, then use the effects element in responses. -->
		<preParsingEffects/>
		
		<!-- This is where the scene's content is defined - it's not directly located within these dialogue files as splitting the framework from the content makes everything a lot easier to read and debug (as changes to the dialogue can be reflected and therefore tested without needing to recompile or restart the game).
		The 'folderPath' attribute is the path from your lilithsthrone/res folder to the xml file in which your content is written.
			The game should recognise forward slashes as appropriate file separators for the player's operating system, so even if you don't normally use forward slashes, please use them in 'folderPath' definitions.
		The text value within this 'content' element (in this case 'FIND_BERRIES') points to the actual piece of dialogue within the file specified in 'folderPath'.
			This value is defined as the 'tag' attribute in the dialogue's 'htmlContent' element.
		You can leave this element blank (or omit it entirely) if you are instead relying on the game.appendToTextStartStringBuilder() and game.appendToTextEndStringBuilder() methods to parse text.-->
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_ENCOUNTER_INITIAL</content>
		
		<!-- How many seconds are passed during this scene.
		You can set the 'minutes' attribute to true to make your value represent minutes instead of seconds - in this example, 5 minutes will be passed, but if 'minutes' was false, then 5 seconds would be passed.
			This is just so that it's easier to input values, so you don't need to calculate your minutes*60 for every scene. -->
		<secondsPassed minutes="false"><![CDATA[30]]></secondsPassed>
		
		<!-- This defines whether or not this scene carries on from the one before it (so that the scene is appended to the end of the previous scene, allowing the player to scoll up and re-read what's happened prior to this scene).
		I usually define this as true when the scene forms part of a multi-scene conversation, or in any other case when this scene is logically part of whatever has happened prior to it.
		I don't want an encounter to display the tile's default dialogue above it (which is what would be the scene prior to this), so I'll leave this as false.
		Please use either 'true' or 'false' for the values here.
		You can also omit this value entirely, in which case it will default to false. -->
		<continuesDialogue>false</continuesDialogue>
		
		<!-- This defines whether or not this scene disables the player's ability to move, and should be defined as true when you want to prevent the player from simply walking away from the scene without choosing a response.
		Please use either 'true' or 'false' for the values here.
		You can also omit this value entirely, in which case it will default to false. -->
		<travelDisabled>true</travelDisabled>
		
		<!-- This defines whether or not the player's inventory is disabled.
		You can omit this value entirely if you want, in which case it will default to false (or true if travelDisabled is true).
			NOTE: This will always be true regardless of what you put here if the 'travelDisabled' element above is true (this is because some items could potentially move the player out of the scene, so if a scene's travel is disabled, items must be too.)
		Please use either 'true' or 'false' for the values here. -->
		<inventoryDisabled>true</inventoryDisabled>
		
		<!-- This defines whether the player's health and aura regenerate as normal during this scene.
		This should almost always be false unless you have a specific reason for not letting the player recover their health/aura.
		Please use either 'true' or 'false' for the values here. -->
		<regenerationDisabled>false</regenerationDisabled>
		
		<!-- Responses: -->
		<!-- The actual content and handling of a scene is only half of what a dialogue node is about.
		As equally important as what the player reads is what choices you give to them next.
		That's handled by 'response' elements, which determine which dialogue node is shown to the player next, and which can also apply effects.
		Note: I use 'response' as the name for actions which are presented to the payer in scenes, so 'response' and 'action' can be used interchangeably. -->
		
		<!-- You can define tabs for responses here (tabs being the same 'self', 'sex actions' etc. tabs that are present during sex scenes).
		Important note: If you don't use consecutive indexing for your tabs, then those that come after a missing tab will not work!
			i.e. You need to define tabs of index of 0 and 1 in order to have a tab with index of 2. -->
		<responseTabs/>
		
		<!-- Finally, this is the section in which the actual responses to the scene are defined.
		You can have as many responses as you'd like.
		With that being said, please bear in mind:
			The response in index 0 is displayed as the bottom-right action to the player, which I often reserve for 'back'/'return' actions.
			Responses of an index of 15 or higher will only be displayed to the player if the previous 14 actions are used, and will be on the next 'page' of responses, which are unlikely to get as much attention from the player as the actions on the first page.
				As such, you should really try to limit your number of responses to under 15. -->
		<responses>
			<!-- Sometimes you might want to vary the properties of a response based on gameplay variables.
			As such, all of the elements within a response support conditional statements. -->
			<response>
				<!-- You can define a conditional here to allow this response to be presented to the player or not.
				You can omit this entirely, in which case this response will always be available.
				It should return either 'true' or 'false' (trailing or leading whitespace is ignored). -->
				<availabilityConditional/>
			
				<!-- The index of the responseTab in which this response can be found.
				This must be either 0 (default value) or an index of a tab that you've defined up above in the 'responseTabs' element. -->
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				
				<!-- The position of this response within the actions panel at the bottom of the UI.
				Please return a positive integer, ideally within the range of 0-14.
				Multiple responses can have the same index, provided that the 'availabilityConditional' above is configured in such a way as to make them mutually exclusive. -->
				<index><![CDATA[1]]></index>
				
				<!-- The title of this response, as seen by the player on the action button. -->
				<responseTitle><![CDATA[Approach]]></responseTitle>
				
				<!-- The tooltip contents of this response, as seen by the player when they hover their mouse over this response's action button. -->
				<responseTooltip><![CDATA[Approach the stall and see what the mob is up to.]]></responseTooltip>
				
				<!-- The colour of the title's text, which should most likely be omitted or left blank, as action colouring should only be used to let the player know the action leads to combat, sex, trade, or a quest (which apart from quests are handled automatically).
				You can define this as either a PresetColour value or a raw colour hex.
				If defining a raw colour hex, use this format: <colour>#cafe69</colour>
				Values can be found here: https://github.com/Innoxia/liliths-throne-public/blob/dev/src/com/lilithsthrone/utils/colours/PresetColour.java -->
				<colour/>
				
				<!-- The next dialogue node to progress to after selecting this action.
				The values 'default' and 'defaultWithEncounter' are special values which correspond to:
					'default': The default dialogue in which the player is located. This will not generate any random encounter.
					'defaultWithEncounter': The default dialogue in which the player is located. This has the tile's standard chance of generating a random encounter.
					'defaultForceEncounter': The default dialogue in which the player is located. This will guarantee that a random encounter is generated, if one is available. This is useful for 'Explore' actions.
					'null' and 'empty': No dialogue will be linked, in which case the button will appear to the player but be greyed-out.
				You can add an attribute named 'defaultPlaceType' if you want this response to link to a default dialogue of another place type.
					To use, simply define the 'defaultPlaceType' attribute as an id of the PlaceType you want to link to.
					The dialogue will not have a random encounter.
					e.g.: <nextDialogue defaultPlaceType="innoxia_fields_elis_tavern"/>
				You can also choose to leave this element blank or omit it entirely, in which case this response will act as an 'effects only' response, and will not proceed into a new scene.
					While this can be useful for applying effects without transitioning into a new scene, you're probably not ever going to need to use this behaviour.
				The 'stripContent' attribute, when defined as 'true', leads into the defined dialogue node as usual, but doesn't display its usual content to the player.
					This can be useful to do if you want a response to lead into a pre-defined dialogue node, but you want to change the usual content via using the 'game.appendToTextStartStringBuilder()' or 'game.appendToTextEndStringBuilder()' methods.
					A typical example of this is when leading back into the tile's default dialogue node, but you want to display a description of the player continuing on their journey instead of the tile's usual content.
					This will only have an effect if this response is not a trading, combat, or sex response.
				You can also define an additional 'forceContinue' attribute, which if set to 'true' will make the next dialogue node act as though its 'continuesDialogue' variable is true.
					i.e. If I defined this field as such:
						<nextDialogue forceContinue="true"><![CDATA[default]]></nextDialogue>
						Then the next scene would have the default tile's content appended to the end of the current content, even though the default dialogue likely has 'continuesDialogue' set to false. -->
				<nextDialogue stripContent="false"><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_encounter_approach]]></nextDialogue>
				
				<!-- This is an optional element which, when included, takes priority over the next dialogue node's 'secondsPassed' value.
					i.e. If a dialogue node declares 60 seconds to pass, but a response which leads into that dialogue node instead declares 30 seconds to pass, then 30 seconds will pass when the player selects the response instead of 60.
				The 'minutes' attribute works exactly like the 'secondsPassed' element for the dialogue node above. -->
				<secondsPassed/>
		
				<!-- This is executed once when selecting the response, before the next dialogue node's preParsingEffects are called.
				You can use this to define special effects as a result of selecting this response.
				Effects are applied *before* the next scene is loaded. -->
				<effects><![CDATA[
					[##flags.setFlag(FLAG_dsg_elis_eisek_introduced, true)]
				]]></effects>

			</response>
			
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Back off]]></responseTitle>
				<responseTooltip><![CDATA[People are avoiding the area for a reason.]]></responseTooltip>
				<nextDialogue>dsg_encounters_fields_elis_market_eisek_eisek_encounter_back_off</nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	<scene id="eisek_encounter_back_off">
		<author><![CDATA[DSG]]></author>
		<title/>
		<tooltip/>
		<preParsingEffects/>
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_ENCOUNTER_BACK_OFF</content>
		<secondsPassed minutes="false"><![CDATA[30]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Continue]]></responseTitle>
				<responseTooltip><![CDATA[You've decided you don't want anything to do with the mob right now. There's nothing else to do here.]]></responseTooltip>
				<nextDialogue><![CDATA[default]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	<scene id="eisek_encounter_approach">
		<author><![CDATA[DSG]]></author>
		<title/>
		<tooltip/>
		<preParsingEffects/>
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_ENCOUNTER_APPROACH</content>
		<secondsPassed minutes="false"><![CDATA[30]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Play along]]></responseTitle>
				<responseTooltip><![CDATA[Play along and pretend that you know this [eisek.race].]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_encounter_disperse_crowd]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					[##eisek.incrementAffection(pc, 5)]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Side with mob]]></responseTitle>
				<responseTooltip><![CDATA[There's no way you're going to let someone you don't even know take advantage of you.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_encounter_banishment]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					[##flags.setFlag(FLAG_dsg_elis_eisek_banished, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="eisek_encounter_banishment">
		<author><![CDATA[DSG]]></author>
		<title/>
		<tooltip/>
		<preParsingEffects/>
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_ENCOUNTER_BANISHMENT</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Continue]]></responseTitle>
				<responseTooltip><![CDATA[There's nothing else to do here. Better move on.]]></responseTooltip>
				<nextDialogue><![CDATA[default]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	<scene id="eisek_encounter_disperse_crowd">
		<author><![CDATA[DSG]]></author>
		<title/>
		<tooltip/>
		<preParsingEffects/>
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_ENCOUNTER_DISPERSE_CROWD</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Leave Eisek be, for now.]]></responseTooltip>
				<nextDialogue><![CDATA[default]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Buy/Sell]]></responseTitle>
				<responseTooltip><![CDATA[See what Eisek has for sale.<br/><b>Not yet implemented</b>]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
				<tradingVariables enabled="false">
					<tradePartner><![CDATA[eisek]]></tradePartner>
				</tradingVariables>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Himself]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about himself.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_himself]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(eisek.getAffection(pc) >= 15 && !flags.hasFlag(FLAG_dsg_elis_eisek_asked_himself))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_himself, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Business]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about how his business is doing.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_business]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_business))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_business, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[eisek.getAffection(pc) > 15]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Other dragons]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek if he's ever met other dragons]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_other_dragons]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_other_dragons))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_other_dragons, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[!pc.hasQuest(QUEST_LINE_EISEK_SIDE_MOB) && !pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about the mob that was around his stall the first time you met him.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_mob_quest_start]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuest(QUEST_LINE_EISEK_SIDE_MOB) && !pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Probably best not bring up this topic back up without some results to show.]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuestInLine(QUEST_LINE_EISEK_SIDE_MOB, QUEST_EISEK_MOB_STAGE_TWO_FAILED)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[[style.boldBad(Mob)]]]></responseTitle>
				<responseTooltip><![CDATA[Inform Eisek of your failure to handle the mob]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuestInLine(QUEST_EISEK_MOB_STAGE_THREE)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[[style.boldGood(Mob)]]]></responseTitle>
				<responseTooltip><![CDATA[Tell Eisek that you've handled the mob]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_mob_quest_complete]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek if the mob has shown back up]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestFailed(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Ask about mob]]></responseTitle>
				<responseTooltip><![CDATA[You probably don't want to dig up reminders of your failure.]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[eisek.getAffection(pc) > 15]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Why Elis?]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek why he chose to come to Elis]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_why_elis]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_why_elis))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_why_elis, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Stall]]></responseTitle>
				<responseTooltip><![CDATA[See if there's anything you can do to help Eisek about the state of his stall.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_stall_quest_start]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[style.boldGood(Materials)]]></responseTitle>
				<responseTooltip><![CDATA[You've gathered what you need to improve Eisek's stall. Time to show him.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_stall_quest_complete]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Family]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about his family.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_family]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_family))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_family, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[11]]></index>
				<responseTitle><![CDATA[Dragonfall?]]></responseTitle>
				<responseTooltip><![CDATA[You've earned the right to know the truth about the 'dragons of old'.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_dragonfall_specific]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	<scene id="eisek_talk_menu">
		<author><![CDATA[DSG]]></author>
		<title/>
		<tooltip/>
		<preParsingEffects/>
		<content folderPath="txt/characters/fields/elis/market/eisek">EISEK_TALK_MENU</content>
		<secondsPassed minutes="false"><![CDATA[30]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Leave Eisek be, for now.]]></responseTooltip>
				<nextDialogue><![CDATA[default]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Buy/Sell]]></responseTitle>
				<responseTooltip><![CDATA[See what Eisek has for sale.<br/><b>Not yet implemented</b>]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
				<tradingVariables enabled="false">
					<tradePartner><![CDATA[eisek]]></tradePartner>
				</tradingVariables>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Himself]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about himself.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_himself]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(eisek.getAffection(pc) >= 15 && !flags.hasFlag(FLAG_dsg_elis_eisek_asked_himself))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_himself, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Business]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about how his business is doing.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_business]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_business))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_business, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[eisek.getAffection(pc) > 15]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Other dragons]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek if he's ever met other dragons]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_other_dragons]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_other_dragons))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_other_dragons, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[!pc.hasQuest(QUEST_LINE_EISEK_SIDE_MOB) && !pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about the mob that was around his stall the first time you met him.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_mob_quest_start]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuest(QUEST_LINE_EISEK_SIDE_MOB) && !pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Probably best not bring up this topic back up without some results to show.]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuestInLine(QUEST_LINE_EISEK_SIDE_MOB, QUEST_EISEK_MOB_STAGE_TWO_FAILED)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[[style.boldBad(Mob)]]]></responseTitle>
				<responseTooltip><![CDATA[Inform Eisek of your failure to handle the mob]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.hasQuestInLine(QUEST_EISEK_MOB_STAGE_THREE)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[[style.boldGood(Mob)]]]></responseTitle>
				<responseTooltip><![CDATA[Tell Eisek that you've handled the mob]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_mob_quest_complete]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Mob]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek if the mob has shown back up]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestFailed(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Ask about mob]]></responseTitle>
				<responseTooltip><![CDATA[You probably don't want to dig up reminders of your failure.]]></responseTooltip>
				<nextDialogue><![CDATA[null]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[eisek.getAffection(pc) > 15]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Why Elis?]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek why he chose to come to Elis]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_why_elis]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_why_elis))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_why_elis, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Stall]]></responseTitle>
				<responseTooltip><![CDATA[See if there's anything you can do to help Eisek about the state of his stall.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_stall_quest_start]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[style.boldGood(Materials)]]></responseTitle>
				<responseTooltip><![CDATA[You've gathered what you need to improve Eisek's stall. Time to show him.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_stall_quest_complete]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
			<response>
				<availabilityConditional><![CDATA[true]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Family]]></responseTitle>
				<responseTooltip><![CDATA[Ask Eisek about his family.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_family]]></nextDialogue>
				<secondsPassed/>
				<effects><![CDATA[
					#IF(!flags.hasFlag(FLAG_dsg_elis_eisek_asked_family))
						[##flags.setFlag(FLAG_dsg_elis_eisek_asked_family, true)]
						[##flags.incrementSavedLong("elis_eisek_talk_score", 1)]
					#ENDIF
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[pc.isQuestCompleted(QUEST_LINE_EISEK_SIDE_MOB)]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[11]]></index>
				<responseTitle><![CDATA[Dragonfall?]]></responseTitle>
				<responseTooltip><![CDATA[You've earned the right to know the truth about the 'dragons of old'.]]></responseTooltip>
				<nextDialogue><![CDATA[dsg_encounters_fields_elis_market_eisek_eisek_talk_dragonfall_specific]]></nextDialogue>
				<secondsPassed/>
				<effects/>
			</response>
		</responses>
	</scene>
	
	
</dialogueNodes>
