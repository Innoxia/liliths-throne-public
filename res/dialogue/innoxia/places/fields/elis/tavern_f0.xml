<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<dialogueNodes>

	<!-- First entry meeting Meraxis: -->
	<scene id="first_entry">
		<author><![CDATA[Innoxia]]></author>
		<preParsingEffects><![CDATA[
			[#flash.setLocation(pc)]
			[#meraxis.setLocation(pc)]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_f0">FIRST_ENTRY</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Introduce yourself]]></responseTitle>
				<responseTooltip><![CDATA[Tell Flash who you are.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_f0_first_entry_flash_introduction</nextDialogue>
				<effects><![CDATA[
					[#flags.setFlag(FLAG_innoxia_elis_flash_introduced, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="first_entry_flash_introduction">
		<author><![CDATA[Innoxia]]></author>
		<preParsingEffects><![CDATA[
			[#flash.returnToHome()]
			[#flash.hourlyUpdate()]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_f0">FIRST_ENTRY_INTRODUCTION</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Minions?]]></responseTitle>
				<responseTooltip><![CDATA[Follow Meraxis to find out what she means by her 'minions'.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_f0_first_entry_minions</nextDialogue>
			</response>
		</responses>
	</scene>
	
	<scene id="first_entry_minions">
		<author><![CDATA[Innoxia]]></author>
		<preParsingEffects><![CDATA[
			[#meraxis.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f0, PLACE_TYPE_innoxia_fields_elis_tavern_f0_meraxis)]
			[#pc.setLocation(meraxis)]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_f0">FIRST_ENTRY_MINIONS</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Your room]]></responseTitle>
				<responseTooltip><![CDATA[Follow Meraxis so that she can show you where your room is.]]></responseTooltip>
				<nextDialogue>innoxia_places_fields_elis_tavern_f0_first_entry_player_room</nextDialogue>
			</response>
		</responses>
	</scene>
	
	<scene id="first_entry_player_room">
		<author><![CDATA[Innoxia]]></author>
		<preParsingEffects><![CDATA[
			[#meraxis.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_room_player)]
			[#pc.setLocation(meraxis)]
			[#game.appendToTextEndStringBuilder(pc.setQuestProgress(QUEST_LINE_MAIN, QUEST_MAIN_3_C_MEETING_MINOTALLYS))]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_f0">FIRST_ENTRY_ROOM</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Thank her]]></responseTitle>
				<responseTooltip><![CDATA[Thank Meraxis for getting your accommodation sorted for you.]]></responseTooltip>
				<nextDialogue>default</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
				<effects><![CDATA[
					[#meraxis.returnToHome()]
					[#meraxis.hourlyUpdate()]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'FIRST_ENTRY_ROOM_END'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_bar -->
	<scene id="bar">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">BAR</content>
		<secondsPassed><![CDATA[30]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responseTabs>
			<tab index="0"><![CDATA[
				#IF(game.getCharactersPresent().contains(flash))
					Talk
				#ENDIF
			]]></tab>
			<tab index="1"><![CDATA[
				#IF(game.getCharactersPresent().contains(flash))
					Drinks
				#ENDIF
			]]></tab>
			<tab index="2"><![CDATA[
				#IF(game.getCharactersPresent().contains(flash))
					Food
				#ENDIF
			]]></tab>
		</responseTabs>
		<responses>
			<!-- Tab 0: Talk -->
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Small talk]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_flash_smalltalk_complete))
						You've already spent time making small talk with Flash today. You'll have to wait until tomorrow before you can repeat this.
					#ELSE
						Spend fifteen minutes talking to Flash about the weather, local news, and other such trivial topics.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_flash_smalltalk_complete))
						innoxia_places_fields_elis_tavern_f0_bar
					#ELSE
						null
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[15]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK'))]
					#IF(flash.getAffection(pc)<40)
						[#game.appendToTextStartStringBuilder(flash.incrementAffection(pc, 5))]
					#ENDIF
					[#flags.setFlag(FLAG_innoxia_flash_smalltalk_complete, true)]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Meraxis]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash what he thinks of Meraxis.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_MERAXIS'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Lunette]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash what he knows about Lunette.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_LUNETTE'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[History]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash about his history and how he came to own this tavern.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_HISTORY'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Minotallys]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash what he knows about Minotallys.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_MINOTALLYS'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Youko]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash what he knows about the youko.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_YOUKO'))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[
					[#game.getCharactersPresent().contains(flash) && flags.hasFlag(FLAG_innoxia_elis_jess_introduced)]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[7]]></index>
				<responseTitle><![CDATA[Jess]]></responseTitle>
				<responseTooltip><![CDATA[Ask Flash about his history with Jess.]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_TALK_JESS'))]
				]]></effects>
			</response>
			<!-- Flash not present: -->
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					Water (Free)
				]]></responseTitle>
				<responseTooltip><![CDATA[
					Order a glass of water.
				]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_WATER'))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_human_vanilla_water').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Orange juice (#IF(pc.getMoney()>=20)[style.moneyFormat(20, span)]#ELSE[style.moneyFormatUncoloured(20, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=20) Order a glass of carbonated orange juice. #ELSE You can't afford a glass of carbonated orange juice... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=20)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_ORANGE_JUICE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-20))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_ferret_orange_juice').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Berry soda (#IF(pc.getMoney()>=20)[style.moneyFormat(20, span)]#ELSE[style.moneyFormatUncoloured(20, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=20) Order a glass of berry-flavoured soda. #ELSE You can't afford a glass of berry-flavoured soda... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=20)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_BERRY_SODA'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-20))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_otter_berry_soda').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Cola (#IF(pc.getMoney()>=25)[style.moneyFormat(25, span)]#ELSE[style.moneyFormatUncoloured(25, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=25) Order a glass of carbonated cola. #ELSE You can't afford a glass of carbonated cola... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=25)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_COLA'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-25))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_pig_porcine_pop').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Coffee (#IF(pc.getMoney()>=30)[style.moneyFormat(30, span)]#ELSE[style.moneyFormatUncoloured(30, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=30) Order a glass of cold-brew, black coffee. #ELSE You can't afford a glass of cold-brew, black coffee... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=30)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_COFFEE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-30))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('charisma_race_spider_jet_black_coffee').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Bread rolls (#IF(pc.getMoney()>=50)[style.moneyFormat(50, span)]#ELSE[style.moneyFormatUncoloured(50, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=50) Order a small basket of freshly-baked bread rolls from the 'starters & sides' menu. #ELSE You can't afford a small basket of freshly-baked bread rolls from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=50)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BREAD'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-50))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_human_bread_roll').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[7]]></index>
				<responseTitle><![CDATA[Mixed nuts (#IF(pc.getMoney()>=50)[style.moneyFormat(50, span)]#ELSE[style.moneyFormatUncoloured(50, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=50) Order a serving of mixed nuts from the 'starters & sides' menu. #ELSE You can't afford a serving of mixed nuts from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=50)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_NUTS'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-50))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_squirrel_round_nuts').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Pâté and crackers (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a serving of meat pâté and crackers from the 'starters & sides' menu. #ELSE You can't afford a serving of meat pâté and crackers from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_PATE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_gryphon_pate_and_crackers').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[9]]></index>
				<responseTitle><![CDATA[Honey bread (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a serving of honey bread from the dessert menu. #ELSE You can't afford a serving of honey bread from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_HONEY_BREAD'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_bear_honey_bread').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<availabilityConditional><![CDATA[[#!game.getCharactersPresent().contains(flash)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Brownie (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a chocolate brownie from the dessert menu. #ELSE You can't afford a chocolate brownie from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BROWNIE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('NoStepOnSnek_race_capybara_brownie').applyEffect(pc, pc))]
				]]></effects>
			</response>
			
			<!-- Tab 1: Drinks -->
			<!-- Non-alcoholic: -->
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					Water (Free)
				]]></responseTitle>
				<responseTooltip><![CDATA[
					Order a glass of water.
				]]></responseTooltip>
				<nextDialogue stripContent="true">innoxia_places_fields_elis_tavern_f0_bar</nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_WATER'))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_human_vanilla_water').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Orange juice (#IF(pc.getMoney()>=20)[style.moneyFormat(20, span)]#ELSE[style.moneyFormatUncoloured(20, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=20) Order a glass of carbonated orange juice. #ELSE You can't afford a glass of carbonated orange juice... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=20)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_ORANGE_JUICE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-20))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_ferret_orange_juice').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Berry soda (#IF(pc.getMoney()>=20)[style.moneyFormat(20, span)]#ELSE[style.moneyFormatUncoloured(20, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=20) Order a glass of berry-flavoured soda. #ELSE You can't afford a glass of berry-flavoured soda... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=20)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_BERRY_SODA'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-20))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_otter_berry_soda').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Cola (#IF(pc.getMoney()>=25)[style.moneyFormat(25, span)]#ELSE[style.moneyFormatUncoloured(25, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=25) Order a glass of carbonated cola. #ELSE You can't afford a glass of carbonated cola... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=25)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_COLA'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-25))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_pig_porcine_pop').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Coffee (#IF(pc.getMoney()>=30)[style.moneyFormat(30, span)]#ELSE[style.moneyFormatUncoloured(30, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=30) Order a glass of cold-brew, black coffee. #ELSE You can't afford a glass of cold-brew, black coffee... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=30)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_COFFEE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-30))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('charisma_race_spider_jet_black_coffee').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<!-- Alcoholic: -->
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Beer (#IF(pc.getMoney()>=40)[style.moneyFormat(40, span)]#ELSE[style.moneyFormatUncoloured(40, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=40) Order a pint of beer. #ELSE You can't afford a pint of beer... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=40)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_BEER'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-40))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_dog_canine_crush').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[7]]></index>
				<responseTitle><![CDATA[Cider (#IF(pc.getMoney()>=40)[style.moneyFormat(40, span)]#ELSE[style.moneyFormatUncoloured(40, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=40) Order a pint of cider. #ELSE You can't afford a pint of cider... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=40)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_CIDER'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-40))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_horse_equine_cider').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Perry (#IF(pc.getMoney()>=40)[style.moneyFormat(40, span)]#ELSE[style.moneyFormatUncoloured(40, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=40) Order a pint of pear cider, which is commonly known as perry. #ELSE You can't afford a pint of pear cider... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=40)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_PERRY'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-40))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_badger_black_stripes_perry').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[9]]></index>
				<responseTitle><![CDATA[Red wine (#IF(pc.getMoney()>=60)[style.moneyFormat(60, span)]#ELSE[style.moneyFormatUncoloured(60, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=60) Order a glass of red wine. #ELSE You can't afford a glass of red wine... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=60)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_WINE_RED'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-60))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_fox_vulpines_vineyard').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[White wine (#IF(pc.getMoney()>=60)[style.moneyFormat(60, span)]#ELSE[style.moneyFormatUncoloured(60, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=60) Order a glass of white wine. #ELSE You can't afford a glass of white wine... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=60)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_WINE_WHITE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-60))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_fox_vulpines_vineyard').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[11]]></index>
				<responseTitle><![CDATA[Vodka (#IF(pc.getMoney()>=100)[style.moneyFormat(100, span)]#ELSE[style.moneyFormatUncoloured(100, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=100) Order a glass of vodka. #ELSE You can't afford a glass of vodka... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=100)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_VODKA'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-100))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_bear_vodka').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[12]]></index>
				<responseTitle><![CDATA[Rum (#IF(pc.getMoney()>=120)[style.moneyFormat(120, span)]#ELSE[style.moneyFormatUncoloured(120, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=120) Order a glass of rum. #ELSE You can't afford a glass of rum... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=120)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_RUM'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-120))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_rat_black_rats_rum').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[13]]></index>
				<responseTitle><![CDATA[Whiskey (#IF(pc.getMoney()>=120)[style.moneyFormat(120, span)]#ELSE[style.moneyFormatUncoloured(120, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=120) Order a glass of whiskey. #ELSE You can't afford a glass of whiskey... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=120)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_WHISKEY'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-120))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_wolf_wolf_whiskey').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[14]]></index>
				<responseTitle><![CDATA[Champagne (#IF(pc.getMoney()>=160)[style.moneyFormat(160, span)]#ELSE[style.moneyFormatUncoloured(160, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=160) Order a glass of champagne. #ELSE You can't afford a glass of champagne... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=160)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_DRINK_CHAMPAGNE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-160))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_goat_pans_flute').applyEffect(pc, pc))]
				]]></effects>
			</response>
			
			<!-- Tab 2: Food -->
			<!-- Starters: -->
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Bread rolls (#IF(pc.getMoney()>=50)[style.moneyFormat(50, span)]#ELSE[style.moneyFormatUncoloured(50, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=50) Order a small basket of freshly-baked bread rolls from the 'starters & sides' menu. #ELSE You can't afford a small basket of freshly-baked bread rolls from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=50)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BREAD'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-50))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_human_bread_roll').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Mixed nuts (#IF(pc.getMoney()>=50)[style.moneyFormat(50, span)]#ELSE[style.moneyFormatUncoloured(50, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=50) Order a serving of mixed nuts from the 'starters & sides' menu. #ELSE You can't afford a serving of mixed nuts from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=50)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_NUTS'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-50))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_squirrel_round_nuts').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Curly fries (#IF(pc.getMoney()>=50)[style.moneyFormat(50, span)]#ELSE[style.moneyFormatUncoloured(50, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=50) Order a serving of curly fries from the 'starters & sides' menu. #ELSE You can't afford a serving of curly fries from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=50)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_FRIES'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-50))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_pig_oinkers_fries').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Shrimp cocktail (#IF(pc.getMoney()>=75)[style.moneyFormat(75, span)]#ELSE[style.moneyFormatUncoloured(75, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=75) Order a serving of shrimp cocktail from the 'starters & sides' menu. #ELSE You can't afford a serving of shrimp cocktail from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=75)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_SHRIMP'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-75))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('NoStepOnSnek_race_octopus_shrimp_cocktail').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Pâté and crackers (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a serving of meat pâté and crackers from the 'starters & sides' menu. #ELSE You can't afford a serving of meat pâté and crackers from the 'starters & sides' menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_PATE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_gryphon_pate_and_crackers').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<!-- Main courses: -->
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Fish & chips (#IF(pc.getMoney()>=150)[style.moneyFormat(150, span)]#ELSE[style.moneyFormatUncoloured(150, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=150) Order a serving of fish and chips from the main menu. #ELSE You can't afford a serving of fish and chips from the main menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=150)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_FISH_CHIPS'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-150))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_otter_fish_and_chips').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[7]]></index>
				<responseTitle><![CDATA[Sausages (#IF(pc.getMoney()>=150)[style.moneyFormat(150, span)]#ELSE[style.moneyFormatUncoloured(150, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=150) Order a serving of high-quality sausages from the main menu. #ELSE You can't afford a serving of high-quality sausages from the main menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=150)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_SAUSAGES'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-150))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_ferret_sausages').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[Burger (#IF(pc.getMoney()>=150)[style.moneyFormat(150, span)]#ELSE[style.moneyFormatUncoloured(150, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=150) Order a burger from the main menu. #ELSE You can't afford a burger from the main menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=150)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BURGER'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-150))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_rat_brown_rats_burger').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[9]]></index>
				<responseTitle><![CDATA[Chicken pie (#IF(pc.getMoney()>=180)[style.moneyFormat(180, span)]#ELSE[style.moneyFormatUncoloured(180, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=180) Order a chicken pie from the main menu. #ELSE You can't afford a chicken pie from the main menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=180)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_CHICKEN_PIE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-180))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_fox_chicken_pot_pie').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Steak (#IF(pc.getMoney()>=250)[style.moneyFormat(250, span)]#ELSE[style.moneyFormatUncoloured(250, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=250) Order a steak from the main menu. #ELSE You can't afford a steak from the main menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=250)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[20]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_STEAK'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-250))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_wolf_meat_and_marrow').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<!-- Pudding -->
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[11]]></index>
				<responseTitle><![CDATA[Fruit salad (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a fruit salad from the dessert menu. #ELSE You can't afford a fruit salad from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_FRUIT_SALAD'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_bat_fruit_bats_salad').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[12]]></index>
				<responseTitle><![CDATA[Honey bread (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a serving of honey bread from the dessert menu. #ELSE You can't afford a serving of honey bread from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_HONEY_BREAD'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('dsg_race_bear_honey_bread').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[13]]></index>
				<responseTitle><![CDATA[Berry trifle (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a serving of berry trifle from the dessert menu. #ELSE You can't afford a serving of berry trifle from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BERRY_TRIFLE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_badger_berry_trifle').applyEffect(pc, pc))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[2]]></responseTabIndex>
				<index><![CDATA[14]]></index>
				<responseTitle><![CDATA[Brownie (#IF(pc.getMoney()>=80)[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[#IF(pc.getMoney()>=80) Order a chocolate brownie from the dessert menu. #ELSE You can't afford a chocolate brownie from the dessert menu... #ENDIF]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=80)innoxia_places_fields_elis_tavern_f0_bar#ELSEnull#ENDIF]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'BAR_FOOD_BROWNIE'))]
					[#game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('NoStepOnSnek_race_capybara_brownie').applyEffect(pc, pc))]
				]]></effects>
			</response>
			
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_corridor -->
	<scene id="corridor">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">CORRIDOR</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses/>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_exit -->
	<scene id="exit">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">EXIT</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responseTabs>
			<tab index="0"><![CDATA[
				Actions
			]]></tab>
			<tab index="1"><![CDATA[
				Fast Travel
			]]></tab>
		</responseTabs>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Exit the tavern and head back out into the streets of Elis.]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_town_street"/>
				<secondsPassed minutes="true"><![CDATA[1]]></secondsPassed>
				<effects><![CDATA[
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_town, PLACE_TYPE_innoxia_fields_elis_town_tavern)]
					[#pc.setNearestLocation(WORLD_TYPE_innoxia_fields_elis_town, PLACE_TYPE_innoxia_fields_elis_town_street)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'EXIT_LEAVE'))]
				]]></effects>
			</response>
			
			<!-- Tab index 1, fast travel: -->
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Entrance]]></responseTitle>
				<responseTooltip><![CDATA[You are already at the tavern's entrance!]]></responseTooltip>
				<nextDialogue>null</nextDialogue>
			</response>
			<response>
				<responseTabIndex><![CDATA[1]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Your room]]></responseTitle>
				<responseTooltip><![CDATA[Fast travel up to your room.]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_f1_room_player"/>
				<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'EXIT_FAST_TRAVEL_ENTRANCE'))]
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_room_player)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_garden -->
	<scene id="garden">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">GARDEN</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses/>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_garden_door -->
	<scene id="garden_door">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">GARDEN_DOOR</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses/>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_kitchen -->
	<scene id="kitchen">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">KITCHEN</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses/>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_meraxis -->
	<scene id="meraxis">
		<author><![CDATA[Innoxia]]></author>
		<preParsingEffects><![CDATA[
			[#game.appendToTextEndStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'MERAXIS'))]
		]]></preParsingEffects>
		<content folderPath="txt/places/fields/elis/tavern_f0">SEATING</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Approach]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(game.getCharactersPresent().contains(meraxis))
						Approach Meraxis and say hello to her.
					#ELSE
						Meraxis isn't here at the moment...
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(game.getCharactersPresent().contains(meraxis))
						innoxia_places_fields_elis_tavern_f0_meraxis_approach
					#ELSE
						null
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="false"><![CDATA[2]]></secondsPassed>
			</response>
		</responses>
	</scene>
	
	<scene id="meraxis_approach">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_APPROACH</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- Leave -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Say goodbye to Meraxis and [pc.step] back into the tavern.]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_f0_tables"/>
				<secondsPassed minutes="false"><![CDATA[2]]></secondsPassed>
				<effects><![CDATA[
					[#pc.setNearestLocation(PLACE_TYPE_innoxia_fields_elis_tavern_f0_tables)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'MERAXIS_LEAVE'))]
				]]></effects>
			</response>
			<!-- Duel -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Duel]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_meraxis_duel_daily_complete))
						As you and Meraxis have already duelled one another today, you'll have to wait until tomorrow to do it again...
					#ELSE
						Accept Meraxis's offer of a duel.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_meraxis_duel_daily_complete))
						null
					#ELSE
						innoxia_characters_meraxis_duel_start
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#flags.setFlag(FLAG_innoxia_meraxis_duel_place_elis, true)]
					[#flags.setFlag(FLAG_innoxia_meraxis_duel_place_dominion, false)]
				]]></effects>
			</response>
			<!-- Takahashi -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Takahashi]]></responseTitle>
				<responseTooltip><![CDATA[
					Ask Meraxis if she's managed to find Takahashi, the youko who used to work at her citadel in Submission.
				]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_meraxis_talk]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'MERAXIS_TALK_TAKAHASHI'))]
				]]></effects>
			</response>
			<!-- All under index 3, as each one can only be accessed at stages of quest progress which are mutually exclusive of one another -->
				<!-- Minotallys meeting -->
				<response>
					<availabilityConditional><![CDATA[
						[#!pc.isQuestProgressGreaterThan(QUEST_LINE_MAIN, QUEST_MAIN_3_C_MEETING_MINOTALLYS)]
					]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[3]]></index>
					<responseTitle><![CDATA[Minotallys]]></responseTitle>
					<responseTooltip><![CDATA[
						#IF(game.isHourBetween(8, 18))
							Tell Meraxis that you're ready to meet Minotallys now, which will lead into travelling to Elis's town hall together.
						#ELSE
							This isn't a suitable time in which to be asking to meet Minotallys...
							<br/>[style.italics(You can ask to meet Minotallys between [units.time(9)]-[units.time(18)]...)]
						#ENDIF
					]]></responseTooltip>
					<nextDialogue><![CDATA[
						#IF(game.isHourBetween(8, 18))
							innoxia_quests_main_minotallys_meeting_start
						#ELSE
							null
						#ENDIF
					]]></nextDialogue>
				</response>
				<!-- Themiscyra -->
				<response>
					<availabilityConditional><![CDATA[
						[#pc.getQuest(QUEST_LINE_MAIN) == QUEST_MAIN_3_D_TO_THEMISCYRA]
					]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[3]]></index>
					<responseTitle><![CDATA[Themiscyra]]></responseTitle>
					<responseTooltip><![CDATA[
						Tell Meraxis that you're ready to go with her to Themiscyra to find out if the town is suffering from Lunette's raiders.
						<br/>[style.italicsCombat(Be prepared, for this will start a lengthy section of the main quest during which there may be difficult fights!)]
					]]></responseTooltip>
					<nextDialogue><![CDATA[innoxia_places_fields_themiscyra_journey_start]]></nextDialogue>
				</response>
				<!-- Lunexis betrayal -->
				<response>
					<availabilityConditional><![CDATA[
						[#pc.getQuest(QUEST_LINE_SIDE_LUNEXIS_ESCAPE) == QUEST_LUNEXIS_ESCAPE]
					]]></availabilityConditional>
					<responseTabIndex><![CDATA[0]]></responseTabIndex>
					<index><![CDATA[3]]></index>
					<responseTitle><![CDATA[Lunexis's plan]]></responseTitle>
					<responseTooltip><![CDATA[Tell Meraxis that you have something to discuss with her in private concerning Lunexis.]]></responseTooltip>
					<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_lunexis_plan]]></nextDialogue>
					<effects><![CDATA[
						[#pc.walkPathNoEffects(PLACE_TYPE_innoxia_fields_elis_tavern_f0_garden, true, 1)]
						[#meraxis.setLocation(pc)]
					]]></effects>
				</response>
			<!-- Demon TF -->
			<response>
				<availabilityConditional><![CDATA[
					[#lilaya.getRaceStage()==RACE_STAGE_GREATER && meraxis.getRaceStage()!=RACE_STAGE_GREATER]
				]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Demon]]></responseTitle>
				<responseTooltip><![CDATA[
					Tell Meraxis that she should go through with the process of becoming a full demon.
					<br/>[style.italicsDemon(This will permanently transform Meraxis into a full demon!)]
				]]></responseTooltip>
				<colour><![CDATA[RACE_DEMON]]></colour>
				<nextDialogue><![CDATA[MERAXIS_DEMON_TF_START]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'MERAXIS_DEMON_TF_START'))]
					[#flags.setFlag(FLAG_innoxia_meraxis_demon_tf_teleported, true)]
				]]></effects>
			</response>
			<!-- Sex -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[10]]></index>
				<responseTitle><![CDATA[Sex]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_meraxis_daily_sex))
						You've already had sex with Meraxis in her room today, and as such will have to wait until tomorrow before you can do it again...
					#ELSEIF(flags.hasFlag(FLAG_innoxia_meraxis_oral_unlocked) && flags.hasFlag(FLAG_innoxia_meraxis_vaginal_unlocked) && (!game.isAnalContentEnabled() || flags.hasFlag(FLAG_innoxia_meraxis_anal_unlocked)))
						Tell Meraxis that you want to have a 'duel' with her in her bedroom...
					#ELSE
						Meraxis needs to be comfortable with having
						#IF(game.isAnalContentEnabled())
							 oral, vaginal, and anal sex with you before she'd agree to have sex with you in her bedroom...
						#ELSE
							 oral and vaginal sex with you before she'd agree to have sex with you in her bedroom...
						#ENDIF
					#ENDIF
				]]></responseTooltip>
				<colour><![CDATA[GENERIC_SEX]]></colour>
				<nextDialogue><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_meraxis_daily_sex) && flags.hasFlag(FLAG_innoxia_meraxis_oral_unlocked) && flags.hasFlag(FLAG_innoxia_meraxis_vaginal_unlocked) && (!game.isAnalContentEnabled() || flags.hasFlag(FLAG_innoxia_meraxis_anal_unlocked)))
						innoxia_places_fields_elis_tavern_f0_meraxis_room_sex
					#ELSE
						null
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_room_meraxis, true)]
					[#meraxis.setLocation(pc)]
					[#game.appendToTextEndStringBuilder(meraxis.incrementLust(10, false))]
					[#flags.setFlag(FLAG_innoxia_meraxis_daily_sex, true)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="meraxis_talk">
		<author><![CDATA[Innoxia]]></author>
		<content/>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses copyFromDialogueId="innoxia_places_fields_elis_tavern_f0_meraxis_approach"/>
	</scene>
	
	<scene id="lunexis_plan">
		<content folderPath="txt/places/fields/elis/tavern_f0">LUNEXIS_PLAN</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<colour><![CDATA[GENERIC_BAD_END]]></colour>
				<responseTitle><![CDATA[Betray Meraxis]]></responseTitle>
				<responseTooltip><![CDATA[
					Convince Meraxis that Themiscyra has been abandoned by Lunette's daughters and that by teleporting yourself and Lunexis there, the centauress will reveal where she's hidden a secret weapon.
					<br/>[style.italicsBadEnd(This will lead into both you and Meraxis falling into the clutches of Lunexis!)]
				]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_badEnds_lunexis_escape_start]]></nextDialogue>
				<effects><![CDATA[
					[#pc.incrementKarma(-500)]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Betray Lunexis]]></responseTitle>
				<responseTooltip><![CDATA[
					Betray your Mistress and reveal all the details of Lunexis's plan to Meraxis.
					<br/>[style.italicsBad(You will be forbidden from contacting Lunexis again after this!)]
				]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_badEnds_lunexis_escape_failed]]></nextDialogue>
				<effects/>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[Another time]]></responseTitle>
				<responseTooltip><![CDATA[Tell Meraxis that now's not the time to reveal your secret information, but you'll tell her what's going on soon.]]></responseTooltip>
				<nextDialogue stripContent="true" defaultPlaceType="innoxia_fields_elis_tavern_f0_garden"/>
				<secondsPassed minutes="false"><![CDATA[2]]></secondsPassed>
				<effects><![CDATA[
					[#meraxis.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f0, PLACE_TYPE_innoxia_fields_elis_tavern_f0_meraxis)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'LUNEXIS_PLAN_DELAY'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="meraxis_post_demon_tf">
		<preParsingEffects><![CDATA[
			[#meraxis.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_room_meraxis, true)]
			[#pc.setLocation(meraxis)]
		]]></preParsingEffects>
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_DEMON_TF_FINISHED</content>
		<secondsPassed><![CDATA[120]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Continue]]></responseTitle>
				<responseTooltip><![CDATA[Now that Meraxis has been transformed into a full demon, all that's left for you to do is continue on your way...]]></responseTooltip>
				<nextDialogue>default</nextDialogue>
				<secondsPassed minutes="false"><![CDATA[1]]></secondsPassed>
				<effects><![CDATA[
					[#meraxis.returnToHome()]
					[#meraxis.hourlyUpdate()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="meraxis_room_sex">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_ROOM_SEX</content>
		<secondsPassed minutes="true"><![CDATA[2]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Take charge]]></responseTitle>
				<responseTooltip><![CDATA[Tell Meraxis that you're going to be the one who's in charge...]]></responseTooltip>
				<nextDialogue/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_meraxis_standard]]></id>
					<startingPosition><![CDATA[STANDING]]></startingPosition>
					<dominants>
						<character>
							<id>pc</id>
							<slot><![CDATA[STANDING_STANDING_DOMINANT]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>meraxis</id>
							<slot><![CDATA[STANDING_STANDING_SUBMISSIVE]]></slot>
						</character>
					</submissives>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_meraxis_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_ROOM_SEX_AS_DOM</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Submit]]></responseTitle>
				<responseTooltip><![CDATA[Submit to Meraxis and allow her to take charge...]]></responseTooltip>
				<nextDialogue/>
				<sexVariablesWithManager enabled="true">
					<id><![CDATA[innoxia_meraxis_standard]]></id>
					<startingPosition><![CDATA[STANDING]]></startingPosition>
					<dominants>
						<character>
							<id>meraxis</id>
							<slot><![CDATA[STANDING_STANDING_DOMINANT]]></slot>
						</character>
					</dominants>
					<submissives>
						<character>
							<id>pc</id>
							<slot><![CDATA[STANDING_STANDING_SUBMISSIVE]]></slot>
						</character>
					</submissives>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_meraxis_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_ROOM_SEX_AS_SUB</sexStartContent>
					<ongoingActionsAtStart/>
				</sexVariablesWithManager>
			</response>
		</responses>
	</scene>
	
	<scene id="meraxis_after_sex">
		<author><![CDATA[Innoxia]]></author>
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[You and Meraxis have finished having sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_f0">MERAXIS_ROOM_AFTER_SEX</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Leave Meraxis's room and continue on your way...]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_f1_corridor"/>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'MERAXIS_AFTER_SEX_LEAVE'))]
					[#pc.setNearestLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_corridor)]
					[#meraxis.applyWash(true, false, SE_CLEANED_SHOWER, 240+20)]
					[#meraxis.hourlyUpdate()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_seating -->
	<scene id="seating">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">SEATING</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses/>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_stairs -->
	<scene id="stairs">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">STAIRS</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Upstairs]]></responseTitle>
				<responseTooltip><![CDATA[Head up the staircase to the upper floor of the tavern.]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_f1_stairs"/>
				<secondsPassed minutes="true"><![CDATA[1]]></secondsPassed>
				<effects><![CDATA[
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_stairs)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'STAIRS_UP'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_tables -->
	<scene id="tables">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">TABLES</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses>
			<response>
				<availabilityConditional><![CDATA[[#game.getCharactersPresent().contains(jess)]]]></availabilityConditional>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_elis_jess_introduced))
						Jess
					#ELSE
						Fox-girl
					#ENDIF
					 (#IF(pc.getMoney()>=250)[style.moneyFormat(250, span)]#ELSE[style.moneyFormatUncoloured(250, span)]#ENDIF)
				]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_elis_jess_introduced))
						#IF(pc.getMoney()>=250)
							Pay Jess for her company and sit down at her table.
						#ELSE
							You can't afford Jess's company...
						#ENDIF
					#ELSE
						#IF(pc.getMoney()>=250)
							Pay the fox-girl for her company and sit down at her table.
						#ELSE
							You can't afford the fox-girl's company...
						#ENDIF
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[#IF(pc.getMoney()>=250)innoxia_places_fields_elis_tavern_f0_jess#ELSEnull#ENDIF]]></nextDialogue>
				<!-- Reset all flags: -->
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_START'))]
					[##game.appendToTextStartStringBuilder(pc.incrementMoney(-250))]
					[#flags.setFlag(FLAG_innoxia_elis_jess_introduced, true)]
					
					[#flags.setFlag(FLAG_innoxia_jess_talked, false)]
					[#flags.setFlag(FLAG_innoxia_jess_talked_history, false)]
					[#flags.setFlag(FLAG_innoxia_jess_tail_fluffed, false)]
					[#flags.setFlag(FLAG_innoxia_jess_drinks, false)]
					[#flags.setFlag(FLAG_innoxia_jess_intimate, false)]
					[#flags.setFlag(FLAG_innoxia_jess_kissed, false)]
					[#flags.setFlag(FLAG_innoxia_jess_groped, false)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="jess">
		<author><![CDATA[Innoxia]]></author>
		<content/>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>true</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<!-- Talk: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Talk]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_talked))
						You've already spent some time talking with Jess.
					#ELSE
						Spend a while talking with Jess.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_talked))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_TALK'))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 2))]
					[#flags.setFlag(FLAG_innoxia_jess_talked, true)]
				]]></effects>
			</response>
			<!-- History: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[History]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(jess.getAffection(pc)<AFFECTION_POSITIVE_FOUR_LOVE.getMinimumValue())
						Jess does not like you enough to feel comfortable talking about her past with you.<br/>[style.italicsBad(Requires Jess to have an affection of at least '[#AFFECTION_POSITIVE_FOUR_LOVE.getName()]' towards you.)]
					#ELSEIF(flags.hasFlag(FLAG_innoxia_jess_talked_history))
						You've already spent some time asking Jess about her past.
					#ELSE
						Spend a while talking with Jess.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(jess.getAffection(pc)<AFFECTION_POSITIVE_FOUR_LOVE.getMinimumValue() || flags.hasFlag(FLAG_innoxia_jess_talked_history))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_TALK_HISTORY'))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 10))]
					[#flags.setFlag(FLAG_innoxia_jess_talked_history, true)]
				]]></effects>
			</response>
			<!-- Touch fluffy tail: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[3]]></index>
				<responseTitle><![CDATA[Fluff tail]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_tail_fluffed))
						You've already spent some time playing with Jess's fluffy tail.
					#ELSE
						Spend a while playing with Jess's fluffy tail.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_tail_fluffed))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_TAIL_FLUFFED'))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 2))]
					[#flags.setFlag(FLAG_innoxia_jess_tail_fluffed, true)]
				]]></effects>
			</response>
			<!-- Buy beer: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[4]]></index>
				<responseTitle><![CDATA[Beers (#IF(pc.getMoney()>=80 && !flags.hasFlag(FLAG_innoxia_jess_drinks))[style.moneyFormat(80, span)]#ELSE[style.moneyFormatUncoloured(80, span)]#ENDIF)]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_drinks))
						You've already had a drink with Jess.
					#ELSEIF(pc.getMoney()<80)
						You can't afford two pints of beer...
					#ELSE
						Order a pint of beer for you and Jess.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(pc.getMoney()<80 || flags.hasFlag(FLAG_innoxia_jess_drinks))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[15]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_BEERS'))]
					[##game.appendToTextStartStringBuilder(pc.incrementMoney(-80))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_dog_canine_crush').applyEffect(pc, pc))]
					[#game.appendToTextStartStringBuilder(itemGen.generateItem('innoxia_race_dog_canine_crush').applyEffect(jess, jess))]
					[#flags.setFlag(FLAG_innoxia_jess_drinks, true)]
				]]></effects>
			</response>
			<!-- Intimate: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[5]]></index>
				<responseTitle><![CDATA[
					Get intimate (#IF(pc.getMoney()>=250 && !flags.hasFlag(FLAG_innoxia_jess_intimate))[style.moneyFormat(250, span)]#ELSE[style.moneyFormatUncoloured(250, span)]#ENDIF)
				]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_intimate))
						You've already paid for Jess to get more intimate with you.
					#ELSEIF(pc.getMoney()<250)
						You can't afford for Jess to get more intimate with you...
					#ELSE
						Pay Jess so that she'll get more intimate with you.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(flags.hasFlag(FLAG_innoxia_jess_intimate) || pc.getMoney()<250)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_INTIMATE'))]
					[##game.appendToTextStartStringBuilder(pc.incrementMoney(-250))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 5))]
					[#flags.setFlag(FLAG_innoxia_jess_intimate, true)]
					[#pc.setRandomLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f0, PLACE_TYPE_innoxia_fields_elis_tavern_f0_seating)]
					[#jess.setLocation(pc)]
				]]></effects>
			</response>
			<!-- Kissing: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[6]]></index>
				<responseTitle><![CDATA[Make out]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate))
						You need to pay Jess to get intimate with her before being able to kiss her...
					#ELSEIF(flags.hasFlag(FLAG_innoxia_jess_kissed))
						You've already spent some time making out with Jess.
					#ELSE
						Spend a while making out with Jess.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate) || flags.hasFlag(FLAG_innoxia_jess_kissed))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[15]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_KISSING'))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 2))]
					[#flags.setFlag(FLAG_innoxia_jess_kissed, true)]
				]]></effects>
			</response>
			<!-- Groping: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[7]]></index>
				<responseTitle><![CDATA[Stroke pussy]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate))
						You need to pay Jess to get intimate with her before being able to grope her...
					#ELSEIF(flags.hasFlag(FLAG_innoxia_jess_groped))
						You've already spent some time playing with Jess's pussy.
					#ELSE
						Do as Jess suggested and play with her pussy under the cover of her tail.
					#ENDIF
				]]></responseTooltip>
				<nextDialogue stripContent="true"><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate) || flags.hasFlag(FLAG_innoxia_jess_groped))
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess
					#ENDIF
				]]></nextDialogue>
				<secondsPassed minutes="true"><![CDATA[10]]></secondsPassed>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_GROPED'))]
					[#game.appendToTextStartStringBuilder(jess.incrementAffection(pc, 2))]
					[#flags.setFlag(FLAG_innoxia_jess_groped, true)]
				]]></effects>
			</response>
			<!-- Sex: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[8]]></index>
				<responseTitle><![CDATA[
					Sex (#IF(pc.getMoney()>=2000 && flags.hasFlag(FLAG_innoxia_jess_intimate))[style.moneyFormat(2000, span)]#ELSE[style.moneyFormatUncoloured(2000, span)]#ENDIF)
				]]></responseTitle>
				<responseTooltip><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate))
						You need to pay Jess to get intimate with her before being able to pay to have sex with her...
					#ELSEIF(pc.getMoney()<2000)
						You can't afford to have sex with Jess...
					#ELSE
						Pay Jess and follow her up to her room to have sex with her.
					#ENDIF
				]]></responseTooltip>
				<colour><![CDATA[GENERIC_SEX]]></colour>
				<nextDialogue><![CDATA[
					#IF(!flags.hasFlag(FLAG_innoxia_jess_intimate) || pc.getMoney()<2000)
						null
					#ELSE
						innoxia_places_fields_elis_tavern_f0_jess_room
					#ENDIF
				]]></nextDialogue>
				<effects><![CDATA[
					[##game.appendToTextEndStringBuilder(pc.incrementMoney(-2000))]
					[#game.appendToTextEndStringBuilder(jess.incrementAffection(pc, 5))]
					[#pc.setLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_room_sex)]
					[#jess.setLocation(pc)]
				]]></effects>
			</response>
			<!-- Leave: -->
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[Thank Jess for her company and say goodbye.]]></responseTooltip>
				<nextDialogue stripContent="true">default</nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_LEAVE'))]
					[#jess.setRandomLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f0, PLACE_TYPE_innoxia_fields_elis_tavern_f0_tables)]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<scene id="jess_room">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">JESS_ROOM</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Take charge]]></responseTitle>
				<responseTooltip><![CDATA[
					Tell Jess that you'll be the one taking charge as you move to start fucking her...
				]]></responseTooltip>
				<nextDialogue/>
				<sexVariables enabled="true">
					<consensual><![CDATA[true]]></consensual>
					<subHasEqualControl><![CDATA[true]]></subHasEqualControl>
					<dominants>
						<character><![CDATA[pc]]></character>
					</dominants>
					<submissives>
						<character><![CDATA[jess]]></character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators/>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_jess_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_f0">JESS_START_SEX_AS_DOM</sexStartContent>
					<tags/>
					<ongoingActionsAtStart/>
				</sexVariables>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Submit]]></responseTitle>
				<responseTooltip><![CDATA[
					Tell Jess that you want her to take charge and submit to her...
				]]></responseTooltip>
				<nextDialogue/>
				<sexVariables enabled="true">
					<consensual><![CDATA[true]]></consensual>
					<subHasEqualControl><![CDATA[true]]></subHasEqualControl>
					<dominants>
						<character><![CDATA[jess]]></character>
					</dominants>
					<submissives>
						<character><![CDATA[pc]]></character>
					</submissives>
					<dominantSpectators/>
					<submissiveSpectators/>
					<postSexDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_jess_after_sex]]></postSexDialogue>
					<sexStartContent folderPath="txt/places/fields/elis/tavern_f0">JESS_START_SEX_AS_SUB</sexStartContent>
					<tags/>
					<ongoingActionsAtStart/>
				</sexVariables>
			</response>
		</responses>
	</scene>
	
	<scene id="jess_after_sex">
		<author><![CDATA[Innoxia]]></author>
		<title><![CDATA[Finished]]></title>
		<tooltip><![CDATA[You and Jess have finished having sex...]]></tooltip>
		<content folderPath="txt/places/fields/elis/tavern_f0">JESS_AFTER_SEX</content>
		<secondsPassed minutes="true"><![CDATA[5]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[
					Leave Jess's room and continue on your way...
				]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_tavern_f1_corridor"/>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'JESS_AFTER_SEX_LEAVE'))]
					[#pc.setNearestLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f1, PLACE_TYPE_innoxia_fields_elis_tavern_f1_corridor)]
					[#jess.applyWash(true, false, SE_CLEANED_SHOWER, 240+20)]
					[#jess.hourlyUpdate()]
				]]></effects>
			</response>
		</responses>
	</scene>
	
	<!-- Place type id: innoxia_fields_elis_tavern_f0_toilet -->
	<scene id="toilets">
		<author><![CDATA[Innoxia]]></author>
		<content folderPath="txt/places/fields/elis/tavern_f0">TOILETS</content>
		<secondsPassed><![CDATA[10]]></secondsPassed>
		<continuesDialogue>false</continuesDialogue>
		<travelDisabled>false</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Enter]]></responseTitle>
				<responseTooltip><![CDATA[
					Enter the toilets.
				]]></responseTooltip>
				<nextDialogue><![CDATA[innoxia_places_fields_elis_tavern_f0_toilets_interior]]></nextDialogue>
			</response>
		</responses>
	</scene>
	
	<scene id="toilets_interior">
		<content folderPath="txt/places/fields/elis/tavern_f0">TOILETS_INTERIOR</content>
		<secondsPassed><![CDATA[30]]></secondsPassed>
		<travelDisabled>true</travelDisabled>
		<responses>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[0]]></index>
				<responseTitle><![CDATA[Leave]]></responseTitle>
				<responseTooltip><![CDATA[
					Exit the toilets and head back out into the shopping precinct.
				]]></responseTooltip>
				<nextDialogue defaultPlaceType="innoxia_fields_elis_shops_street"/>
				<secondsPassed minutes="true"><![CDATA[1]]></secondsPassed>
				<effects><![CDATA[
					[#pc.setNearestLocation(WORLD_TYPE_innoxia_fields_elis_tavern_f0, PLACE_TYPE_innoxia_fields_elis_tavern_f0_corridor)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'TOILETS_LEAVE'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[1]]></index>
				<responseTitle><![CDATA[Toilet]]></responseTitle>
				<responseTooltip><![CDATA[
					Use the toilet.
				]]></responseTooltip>
				<nextDialogue forceContinue="true" stripContent="true"><![CDATA[innoxia_places_fields_elis_tavern_f0_toilets_interior]]></nextDialogue>
				<effects><![CDATA[
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'TOILETS_USE'))]
				]]></effects>
			</response>
			<response>
				<responseTabIndex><![CDATA[0]]></responseTabIndex>
				<index><![CDATA[2]]></index>
				<responseTitle><![CDATA[Wash]]></responseTitle>
				<responseTooltip><![CDATA[
					Use the sinks to wash your [pc.hands] and face.
					<br/>[style.italicsGood(This will clean all inventory slots associated with head and hand slots, as well as any clothing worn in these slots.)]
				]]></responseTooltip>
				<nextDialogue forceContinue="true" stripContent="true"><![CDATA[innoxia_places_fields_elis_tavern_f0_toilets_interior]]></nextDialogue>
				<effects><![CDATA[
					[#pc.applyLimitedWash(IS_HEAD, IS_EYES, IS_MOUTH, IS_NECK, IS_HAIR, IS_FINGER, IS_HAND, IS_WRIST)]
					[#game.appendToTextStartStringBuilder(game.parseFromFile('txt/places/fields/elis/tavern_f0', 'TOILETS_WASH'))]
				]]></effects>
			</response>
		</responses>
	</scene>
	
</dialogueNodes>
